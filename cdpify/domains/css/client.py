# This file is auto-generated by the CDP protocol generator.
# Do not edit this file manually as your changes will be overwritten.
# Generated from Chrome DevTools Protocol specifications.

from __future__ import annotations

from typing import TYPE_CHECKING, Any, Literal

if TYPE_CHECKING:
    from cdpify.client import CDPClient

from .commands import (
    CSSCommand,
    AddRuleParams,
    AddRuleResult,
    CollectClassNamesParams,
    CollectClassNamesResult,
    CreateStyleSheetParams,
    CreateStyleSheetResult,
    ForcePseudoStateParams,
    ForceStartingStyleParams,
    GetAnimatedStylesForNodeParams,
    GetAnimatedStylesForNodeResult,
    GetBackgroundColorsParams,
    GetBackgroundColorsResult,
    GetComputedStyleForNodeParams,
    GetComputedStyleForNodeResult,
    GetEnvironmentVariablesResult,
    GetInlineStylesForNodeParams,
    GetInlineStylesForNodeResult,
    GetLayersForNodeParams,
    GetLayersForNodeResult,
    GetLocationForSelectorParams,
    GetLocationForSelectorResult,
    GetLonghandPropertiesParams,
    GetLonghandPropertiesResult,
    GetMatchedStylesForNodeParams,
    GetMatchedStylesForNodeResult,
    GetMediaQueriesResult,
    GetPlatformFontsForNodeParams,
    GetPlatformFontsForNodeResult,
    GetStyleSheetTextParams,
    GetStyleSheetTextResult,
    ResolveValuesParams,
    ResolveValuesResult,
    SetContainerQueryTextParams,
    SetContainerQueryTextResult,
    SetEffectivePropertyValueForNodeParams,
    SetKeyframeKeyParams,
    SetKeyframeKeyResult,
    SetLocalFontsEnabledParams,
    SetMediaTextParams,
    SetMediaTextResult,
    SetPropertyRulePropertyNameParams,
    SetPropertyRulePropertyNameResult,
    SetRuleSelectorParams,
    SetRuleSelectorResult,
    SetScopeTextParams,
    SetScopeTextResult,
    SetStyleSheetTextParams,
    SetStyleSheetTextResult,
    SetStyleTextsParams,
    SetStyleTextsResult,
    SetSupportsTextParams,
    SetSupportsTextResult,
    StopRuleUsageTrackingResult,
    TakeComputedStyleUpdatesResult,
    TakeCoverageDeltaResult,
    TrackComputedStyleUpdatesForNodeParams,
    TrackComputedStyleUpdatesParams,
)

from .types import (
    CSSComputedStyleProperty,
    SourceRange,
    StyleDeclarationEdit,
)


class CSSClient:
    def __init__(self, client: CDPClient) -> None:
        self._client = client

    async def add_rule(
        self,
        *,
        style_sheet_id: DOM.StyleSheetId,
        rule_text: str,
        location: SourceRange,
        node_for_property_syntax_validation: DOM.NodeId | None = None,
        session_id: str | None = None,
    ) -> AddRuleResult:
        params = AddRuleParams(
            style_sheet_id=style_sheet_id,
            rule_text=rule_text,
            location=location,
            node_for_property_syntax_validation=node_for_property_syntax_validation,
        )

        result = await self._client.send_raw(
            method=CSSCommand.ADD_RULE,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return AddRuleResult.from_cdp(result)

    async def collect_class_names(
        self,
        *,
        style_sheet_id: DOM.StyleSheetId,
        session_id: str | None = None,
    ) -> CollectClassNamesResult:
        params = CollectClassNamesParams(style_sheet_id=style_sheet_id)

        result = await self._client.send_raw(
            method=CSSCommand.COLLECT_CLASS_NAMES,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return CollectClassNamesResult.from_cdp(result)

    async def create_style_sheet(
        self,
        *,
        frame_id: Page.FrameId,
        force: bool | None = None,
        session_id: str | None = None,
    ) -> CreateStyleSheetResult:
        params = CreateStyleSheetParams(frame_id=frame_id, force=force)

        result = await self._client.send_raw(
            method=CSSCommand.CREATE_STYLE_SHEET,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return CreateStyleSheetResult.from_cdp(result)

    async def disable(
        self,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        result = await self._client.send_raw(
            method=CSSCommand.DISABLE,
            params=None,
            session_id=session_id,
        )
        return result

    async def enable(
        self,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        result = await self._client.send_raw(
            method=CSSCommand.ENABLE,
            params=None,
            session_id=session_id,
        )
        return result

    async def force_pseudo_state(
        self,
        *,
        node_id: DOM.NodeId,
        forced_pseudo_classes: list[str],
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = ForcePseudoStateParams(
            node_id=node_id, forced_pseudo_classes=forced_pseudo_classes
        )

        result = await self._client.send_raw(
            method=CSSCommand.FORCE_PSEUDO_STATE,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def force_starting_style(
        self,
        *,
        node_id: DOM.NodeId,
        forced: bool,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = ForceStartingStyleParams(node_id=node_id, forced=forced)

        result = await self._client.send_raw(
            method=CSSCommand.FORCE_STARTING_STYLE,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def get_background_colors(
        self,
        *,
        node_id: DOM.NodeId,
        session_id: str | None = None,
    ) -> GetBackgroundColorsResult:
        params = GetBackgroundColorsParams(node_id=node_id)

        result = await self._client.send_raw(
            method=CSSCommand.GET_BACKGROUND_COLORS,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetBackgroundColorsResult.from_cdp(result)

    async def get_computed_style_for_node(
        self,
        *,
        node_id: DOM.NodeId,
        session_id: str | None = None,
    ) -> GetComputedStyleForNodeResult:
        params = GetComputedStyleForNodeParams(node_id=node_id)

        result = await self._client.send_raw(
            method=CSSCommand.GET_COMPUTED_STYLE_FOR_NODE,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetComputedStyleForNodeResult.from_cdp(result)

    async def resolve_values(
        self,
        *,
        values: list[str],
        node_id: DOM.NodeId,
        property_name: str | None = None,
        pseudo_type: DOM.PseudoType | None = None,
        pseudo_identifier: str | None = None,
        session_id: str | None = None,
    ) -> ResolveValuesResult:
        params = ResolveValuesParams(
            values=values,
            node_id=node_id,
            property_name=property_name,
            pseudo_type=pseudo_type,
            pseudo_identifier=pseudo_identifier,
        )

        result = await self._client.send_raw(
            method=CSSCommand.RESOLVE_VALUES,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return ResolveValuesResult.from_cdp(result)

    async def get_longhand_properties(
        self,
        *,
        shorthand_name: str,
        value: str,
        session_id: str | None = None,
    ) -> GetLonghandPropertiesResult:
        params = GetLonghandPropertiesParams(shorthand_name=shorthand_name, value=value)

        result = await self._client.send_raw(
            method=CSSCommand.GET_LONGHAND_PROPERTIES,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetLonghandPropertiesResult.from_cdp(result)

    async def get_inline_styles_for_node(
        self,
        *,
        node_id: DOM.NodeId,
        session_id: str | None = None,
    ) -> GetInlineStylesForNodeResult:
        params = GetInlineStylesForNodeParams(node_id=node_id)

        result = await self._client.send_raw(
            method=CSSCommand.GET_INLINE_STYLES_FOR_NODE,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetInlineStylesForNodeResult.from_cdp(result)

    async def get_animated_styles_for_node(
        self,
        *,
        node_id: DOM.NodeId,
        session_id: str | None = None,
    ) -> GetAnimatedStylesForNodeResult:
        params = GetAnimatedStylesForNodeParams(node_id=node_id)

        result = await self._client.send_raw(
            method=CSSCommand.GET_ANIMATED_STYLES_FOR_NODE,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetAnimatedStylesForNodeResult.from_cdp(result)

    async def get_matched_styles_for_node(
        self,
        *,
        node_id: DOM.NodeId,
        session_id: str | None = None,
    ) -> GetMatchedStylesForNodeResult:
        params = GetMatchedStylesForNodeParams(node_id=node_id)

        result = await self._client.send_raw(
            method=CSSCommand.GET_MATCHED_STYLES_FOR_NODE,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetMatchedStylesForNodeResult.from_cdp(result)

    async def get_environment_variables(
        self,
        session_id: str | None = None,
    ) -> GetEnvironmentVariablesResult:
        result = await self._client.send_raw(
            method=CSSCommand.GET_ENVIRONMENT_VARIABLES,
            params=None,
            session_id=session_id,
        )
        return GetEnvironmentVariablesResult.from_cdp(result)

    async def get_media_queries(
        self,
        session_id: str | None = None,
    ) -> GetMediaQueriesResult:
        result = await self._client.send_raw(
            method=CSSCommand.GET_MEDIA_QUERIES,
            params=None,
            session_id=session_id,
        )
        return GetMediaQueriesResult.from_cdp(result)

    async def get_platform_fonts_for_node(
        self,
        *,
        node_id: DOM.NodeId,
        session_id: str | None = None,
    ) -> GetPlatformFontsForNodeResult:
        params = GetPlatformFontsForNodeParams(node_id=node_id)

        result = await self._client.send_raw(
            method=CSSCommand.GET_PLATFORM_FONTS_FOR_NODE,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetPlatformFontsForNodeResult.from_cdp(result)

    async def get_style_sheet_text(
        self,
        *,
        style_sheet_id: DOM.StyleSheetId,
        session_id: str | None = None,
    ) -> GetStyleSheetTextResult:
        params = GetStyleSheetTextParams(style_sheet_id=style_sheet_id)

        result = await self._client.send_raw(
            method=CSSCommand.GET_STYLE_SHEET_TEXT,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetStyleSheetTextResult.from_cdp(result)

    async def get_layers_for_node(
        self,
        *,
        node_id: DOM.NodeId,
        session_id: str | None = None,
    ) -> GetLayersForNodeResult:
        params = GetLayersForNodeParams(node_id=node_id)

        result = await self._client.send_raw(
            method=CSSCommand.GET_LAYERS_FOR_NODE,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetLayersForNodeResult.from_cdp(result)

    async def get_location_for_selector(
        self,
        *,
        style_sheet_id: DOM.StyleSheetId,
        selector_text: str,
        session_id: str | None = None,
    ) -> GetLocationForSelectorResult:
        params = GetLocationForSelectorParams(
            style_sheet_id=style_sheet_id, selector_text=selector_text
        )

        result = await self._client.send_raw(
            method=CSSCommand.GET_LOCATION_FOR_SELECTOR,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetLocationForSelectorResult.from_cdp(result)

    async def track_computed_style_updates_for_node(
        self,
        *,
        node_id: DOM.NodeId | None = None,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = TrackComputedStyleUpdatesForNodeParams(node_id=node_id)

        result = await self._client.send_raw(
            method=CSSCommand.TRACK_COMPUTED_STYLE_UPDATES_FOR_NODE,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def track_computed_style_updates(
        self,
        *,
        properties_to_track: list[CSSComputedStyleProperty],
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = TrackComputedStyleUpdatesParams(
            properties_to_track=properties_to_track
        )

        result = await self._client.send_raw(
            method=CSSCommand.TRACK_COMPUTED_STYLE_UPDATES,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def take_computed_style_updates(
        self,
        session_id: str | None = None,
    ) -> TakeComputedStyleUpdatesResult:
        result = await self._client.send_raw(
            method=CSSCommand.TAKE_COMPUTED_STYLE_UPDATES,
            params=None,
            session_id=session_id,
        )
        return TakeComputedStyleUpdatesResult.from_cdp(result)

    async def set_effective_property_value_for_node(
        self,
        *,
        node_id: DOM.NodeId,
        property_name: str,
        value: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetEffectivePropertyValueForNodeParams(
            node_id=node_id, property_name=property_name, value=value
        )

        result = await self._client.send_raw(
            method=CSSCommand.SET_EFFECTIVE_PROPERTY_VALUE_FOR_NODE,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def set_property_rule_property_name(
        self,
        *,
        style_sheet_id: DOM.StyleSheetId,
        range: SourceRange,
        property_name: str,
        session_id: str | None = None,
    ) -> SetPropertyRulePropertyNameResult:
        params = SetPropertyRulePropertyNameParams(
            style_sheet_id=style_sheet_id, range=range, property_name=property_name
        )

        result = await self._client.send_raw(
            method=CSSCommand.SET_PROPERTY_RULE_PROPERTY_NAME,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return SetPropertyRulePropertyNameResult.from_cdp(result)

    async def set_keyframe_key(
        self,
        *,
        style_sheet_id: DOM.StyleSheetId,
        range: SourceRange,
        key_text: str,
        session_id: str | None = None,
    ) -> SetKeyframeKeyResult:
        params = SetKeyframeKeyParams(
            style_sheet_id=style_sheet_id, range=range, key_text=key_text
        )

        result = await self._client.send_raw(
            method=CSSCommand.SET_KEYFRAME_KEY,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return SetKeyframeKeyResult.from_cdp(result)

    async def set_media_text(
        self,
        *,
        style_sheet_id: DOM.StyleSheetId,
        range: SourceRange,
        text: str,
        session_id: str | None = None,
    ) -> SetMediaTextResult:
        params = SetMediaTextParams(
            style_sheet_id=style_sheet_id, range=range, text=text
        )

        result = await self._client.send_raw(
            method=CSSCommand.SET_MEDIA_TEXT,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return SetMediaTextResult.from_cdp(result)

    async def set_container_query_text(
        self,
        *,
        style_sheet_id: DOM.StyleSheetId,
        range: SourceRange,
        text: str,
        session_id: str | None = None,
    ) -> SetContainerQueryTextResult:
        params = SetContainerQueryTextParams(
            style_sheet_id=style_sheet_id, range=range, text=text
        )

        result = await self._client.send_raw(
            method=CSSCommand.SET_CONTAINER_QUERY_TEXT,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return SetContainerQueryTextResult.from_cdp(result)

    async def set_supports_text(
        self,
        *,
        style_sheet_id: DOM.StyleSheetId,
        range: SourceRange,
        text: str,
        session_id: str | None = None,
    ) -> SetSupportsTextResult:
        params = SetSupportsTextParams(
            style_sheet_id=style_sheet_id, range=range, text=text
        )

        result = await self._client.send_raw(
            method=CSSCommand.SET_SUPPORTS_TEXT,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return SetSupportsTextResult.from_cdp(result)

    async def set_scope_text(
        self,
        *,
        style_sheet_id: DOM.StyleSheetId,
        range: SourceRange,
        text: str,
        session_id: str | None = None,
    ) -> SetScopeTextResult:
        params = SetScopeTextParams(
            style_sheet_id=style_sheet_id, range=range, text=text
        )

        result = await self._client.send_raw(
            method=CSSCommand.SET_SCOPE_TEXT,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return SetScopeTextResult.from_cdp(result)

    async def set_rule_selector(
        self,
        *,
        style_sheet_id: DOM.StyleSheetId,
        range: SourceRange,
        selector: str,
        session_id: str | None = None,
    ) -> SetRuleSelectorResult:
        params = SetRuleSelectorParams(
            style_sheet_id=style_sheet_id, range=range, selector=selector
        )

        result = await self._client.send_raw(
            method=CSSCommand.SET_RULE_SELECTOR,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return SetRuleSelectorResult.from_cdp(result)

    async def set_style_sheet_text(
        self,
        *,
        style_sheet_id: DOM.StyleSheetId,
        text: str,
        session_id: str | None = None,
    ) -> SetStyleSheetTextResult:
        params = SetStyleSheetTextParams(style_sheet_id=style_sheet_id, text=text)

        result = await self._client.send_raw(
            method=CSSCommand.SET_STYLE_SHEET_TEXT,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return SetStyleSheetTextResult.from_cdp(result)

    async def set_style_texts(
        self,
        *,
        edits: list[StyleDeclarationEdit],
        node_for_property_syntax_validation: DOM.NodeId | None = None,
        session_id: str | None = None,
    ) -> SetStyleTextsResult:
        params = SetStyleTextsParams(
            edits=edits,
            node_for_property_syntax_validation=node_for_property_syntax_validation,
        )

        result = await self._client.send_raw(
            method=CSSCommand.SET_STYLE_TEXTS,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return SetStyleTextsResult.from_cdp(result)

    async def start_rule_usage_tracking(
        self,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        result = await self._client.send_raw(
            method=CSSCommand.START_RULE_USAGE_TRACKING,
            params=None,
            session_id=session_id,
        )
        return result

    async def stop_rule_usage_tracking(
        self,
        session_id: str | None = None,
    ) -> StopRuleUsageTrackingResult:
        result = await self._client.send_raw(
            method=CSSCommand.STOP_RULE_USAGE_TRACKING,
            params=None,
            session_id=session_id,
        )
        return StopRuleUsageTrackingResult.from_cdp(result)

    async def take_coverage_delta(
        self,
        session_id: str | None = None,
    ) -> TakeCoverageDeltaResult:
        result = await self._client.send_raw(
            method=CSSCommand.TAKE_COVERAGE_DELTA,
            params=None,
            session_id=session_id,
        )
        return TakeCoverageDeltaResult.from_cdp(result)

    async def set_local_fonts_enabled(
        self,
        *,
        enabled: bool,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetLocalFontsEnabledParams(enabled=enabled)

        result = await self._client.send_raw(
            method=CSSCommand.SET_LOCAL_FONTS_ENABLED,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result
