# This file is auto-generated by the CDP protocol generator.
# Do not edit this file manually as your changes will be overwritten.
# Generated from Chrome DevTools Protocol specifications.

from __future__ import annotations

from typing import TYPE_CHECKING, Any, Literal

if TYPE_CHECKING:
    from cdpify.client import CDPClient

from .commands import (
    StorageCommand,
    ClearCookiesParams,
    ClearDataForOriginParams,
    ClearDataForStorageKeyParams,
    ClearSharedStorageEntriesParams,
    ClearTrustTokensParams,
    ClearTrustTokensResult,
    DeleteSharedStorageEntryParams,
    DeleteStorageBucketParams,
    GetAffectedUrlsForThirdPartyCookieMetadataParams,
    GetAffectedUrlsForThirdPartyCookieMetadataResult,
    GetCookiesParams,
    GetCookiesResult,
    GetInterestGroupDetailsParams,
    GetInterestGroupDetailsResult,
    GetRelatedWebsiteSetsResult,
    GetSharedStorageEntriesParams,
    GetSharedStorageEntriesResult,
    GetSharedStorageMetadataParams,
    GetSharedStorageMetadataResult,
    GetStorageKeyForFrameParams,
    GetStorageKeyForFrameResult,
    GetStorageKeyParams,
    GetStorageKeyResult,
    GetTrustTokensResult,
    GetUsageAndQuotaParams,
    GetUsageAndQuotaResult,
    OverrideQuotaForOriginParams,
    ResetSharedStorageBudgetParams,
    RunBounceTrackingMitigationsResult,
    SendPendingAttributionReportsResult,
    SetAttributionReportingLocalTestingModeParams,
    SetAttributionReportingTrackingParams,
    SetCookiesParams,
    SetInterestGroupAuctionTrackingParams,
    SetInterestGroupTrackingParams,
    SetProtectedAudienceKAnonymityParams,
    SetSharedStorageEntryParams,
    SetSharedStorageTrackingParams,
    SetStorageBucketTrackingParams,
    TrackCacheStorageForOriginParams,
    TrackCacheStorageForStorageKeyParams,
    TrackIndexedDBForOriginParams,
    TrackIndexedDBForStorageKeyParams,
    UntrackCacheStorageForOriginParams,
    UntrackCacheStorageForStorageKeyParams,
    UntrackIndexedDBForOriginParams,
    UntrackIndexedDBForStorageKeyParams,
)

from .types import (
    StorageBucket,
)

from cdpify.domains import network


class StorageClient:
    def __init__(self, client: CDPClient) -> None:
        self._client = client

    async def get_storage_key_for_frame(
        self,
        *,
        frame_id: Page.FrameId,
        session_id: str | None = None,
    ) -> GetStorageKeyForFrameResult:
        params = GetStorageKeyForFrameParams(frame_id=frame_id)

        result = await self._client.send_raw(
            method=StorageCommand.GET_STORAGE_KEY_FOR_FRAME,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetStorageKeyForFrameResult.from_cdp(result)

    async def get_storage_key(
        self,
        *,
        frame_id: Page.FrameId | None = None,
        session_id: str | None = None,
    ) -> GetStorageKeyResult:
        params = GetStorageKeyParams(frame_id=frame_id)

        result = await self._client.send_raw(
            method=StorageCommand.GET_STORAGE_KEY,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetStorageKeyResult.from_cdp(result)

    async def clear_data_for_origin(
        self,
        *,
        origin: str,
        storage_types: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = ClearDataForOriginParams(origin=origin, storage_types=storage_types)

        result = await self._client.send_raw(
            method=StorageCommand.CLEAR_DATA_FOR_ORIGIN,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def clear_data_for_storage_key(
        self,
        *,
        storage_key: str,
        storage_types: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = ClearDataForStorageKeyParams(
            storage_key=storage_key, storage_types=storage_types
        )

        result = await self._client.send_raw(
            method=StorageCommand.CLEAR_DATA_FOR_STORAGE_KEY,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def get_cookies(
        self,
        *,
        browser_context_id: Browser.BrowserContextID | None = None,
        session_id: str | None = None,
    ) -> GetCookiesResult:
        params = GetCookiesParams(browser_context_id=browser_context_id)

        result = await self._client.send_raw(
            method=StorageCommand.GET_COOKIES,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetCookiesResult.from_cdp(result)

    async def set_cookies(
        self,
        *,
        cookies: list[network.CookieParam],
        browser_context_id: Browser.BrowserContextID | None = None,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetCookiesParams(
            cookies=cookies, browser_context_id=browser_context_id
        )

        result = await self._client.send_raw(
            method=StorageCommand.SET_COOKIES,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def clear_cookies(
        self,
        *,
        browser_context_id: Browser.BrowserContextID | None = None,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = ClearCookiesParams(browser_context_id=browser_context_id)

        result = await self._client.send_raw(
            method=StorageCommand.CLEAR_COOKIES,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def get_usage_and_quota(
        self,
        *,
        origin: str,
        session_id: str | None = None,
    ) -> GetUsageAndQuotaResult:
        params = GetUsageAndQuotaParams(origin=origin)

        result = await self._client.send_raw(
            method=StorageCommand.GET_USAGE_AND_QUOTA,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetUsageAndQuotaResult.from_cdp(result)

    async def override_quota_for_origin(
        self,
        *,
        origin: str,
        quota_size: float | None = None,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = OverrideQuotaForOriginParams(origin=origin, quota_size=quota_size)

        result = await self._client.send_raw(
            method=StorageCommand.OVERRIDE_QUOTA_FOR_ORIGIN,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def track_cache_storage_for_origin(
        self,
        *,
        origin: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = TrackCacheStorageForOriginParams(origin=origin)

        result = await self._client.send_raw(
            method=StorageCommand.TRACK_CACHE_STORAGE_FOR_ORIGIN,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def track_cache_storage_for_storage_key(
        self,
        *,
        storage_key: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = TrackCacheStorageForStorageKeyParams(storage_key=storage_key)

        result = await self._client.send_raw(
            method=StorageCommand.TRACK_CACHE_STORAGE_FOR_STORAGE_KEY,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def track_indexed_d_b_for_origin(
        self,
        *,
        origin: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = TrackIndexedDBForOriginParams(origin=origin)

        result = await self._client.send_raw(
            method=StorageCommand.TRACK_INDEXED_D_B_FOR_ORIGIN,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def track_indexed_d_b_for_storage_key(
        self,
        *,
        storage_key: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = TrackIndexedDBForStorageKeyParams(storage_key=storage_key)

        result = await self._client.send_raw(
            method=StorageCommand.TRACK_INDEXED_D_B_FOR_STORAGE_KEY,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def untrack_cache_storage_for_origin(
        self,
        *,
        origin: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = UntrackCacheStorageForOriginParams(origin=origin)

        result = await self._client.send_raw(
            method=StorageCommand.UNTRACK_CACHE_STORAGE_FOR_ORIGIN,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def untrack_cache_storage_for_storage_key(
        self,
        *,
        storage_key: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = UntrackCacheStorageForStorageKeyParams(storage_key=storage_key)

        result = await self._client.send_raw(
            method=StorageCommand.UNTRACK_CACHE_STORAGE_FOR_STORAGE_KEY,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def untrack_indexed_d_b_for_origin(
        self,
        *,
        origin: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = UntrackIndexedDBForOriginParams(origin=origin)

        result = await self._client.send_raw(
            method=StorageCommand.UNTRACK_INDEXED_D_B_FOR_ORIGIN,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def untrack_indexed_d_b_for_storage_key(
        self,
        *,
        storage_key: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = UntrackIndexedDBForStorageKeyParams(storage_key=storage_key)

        result = await self._client.send_raw(
            method=StorageCommand.UNTRACK_INDEXED_D_B_FOR_STORAGE_KEY,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def get_trust_tokens(
        self,
        session_id: str | None = None,
    ) -> GetTrustTokensResult:
        result = await self._client.send_raw(
            method=StorageCommand.GET_TRUST_TOKENS,
            params=None,
            session_id=session_id,
        )
        return GetTrustTokensResult.from_cdp(result)

    async def clear_trust_tokens(
        self,
        *,
        issuer_origin: str,
        session_id: str | None = None,
    ) -> ClearTrustTokensResult:
        params = ClearTrustTokensParams(issuer_origin=issuer_origin)

        result = await self._client.send_raw(
            method=StorageCommand.CLEAR_TRUST_TOKENS,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return ClearTrustTokensResult.from_cdp(result)

    async def get_interest_group_details(
        self,
        *,
        owner_origin: str,
        name: str,
        session_id: str | None = None,
    ) -> GetInterestGroupDetailsResult:
        params = GetInterestGroupDetailsParams(owner_origin=owner_origin, name=name)

        result = await self._client.send_raw(
            method=StorageCommand.GET_INTEREST_GROUP_DETAILS,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetInterestGroupDetailsResult.from_cdp(result)

    async def set_interest_group_tracking(
        self,
        *,
        enable: bool,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetInterestGroupTrackingParams(enable=enable)

        result = await self._client.send_raw(
            method=StorageCommand.SET_INTEREST_GROUP_TRACKING,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def set_interest_group_auction_tracking(
        self,
        *,
        enable: bool,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetInterestGroupAuctionTrackingParams(enable=enable)

        result = await self._client.send_raw(
            method=StorageCommand.SET_INTEREST_GROUP_AUCTION_TRACKING,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def get_shared_storage_metadata(
        self,
        *,
        owner_origin: str,
        session_id: str | None = None,
    ) -> GetSharedStorageMetadataResult:
        params = GetSharedStorageMetadataParams(owner_origin=owner_origin)

        result = await self._client.send_raw(
            method=StorageCommand.GET_SHARED_STORAGE_METADATA,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetSharedStorageMetadataResult.from_cdp(result)

    async def get_shared_storage_entries(
        self,
        *,
        owner_origin: str,
        session_id: str | None = None,
    ) -> GetSharedStorageEntriesResult:
        params = GetSharedStorageEntriesParams(owner_origin=owner_origin)

        result = await self._client.send_raw(
            method=StorageCommand.GET_SHARED_STORAGE_ENTRIES,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetSharedStorageEntriesResult.from_cdp(result)

    async def set_shared_storage_entry(
        self,
        *,
        owner_origin: str,
        key: str,
        value: str,
        ignore_if_present: bool | None = None,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetSharedStorageEntryParams(
            owner_origin=owner_origin,
            key=key,
            value=value,
            ignore_if_present=ignore_if_present,
        )

        result = await self._client.send_raw(
            method=StorageCommand.SET_SHARED_STORAGE_ENTRY,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def delete_shared_storage_entry(
        self,
        *,
        owner_origin: str,
        key: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = DeleteSharedStorageEntryParams(owner_origin=owner_origin, key=key)

        result = await self._client.send_raw(
            method=StorageCommand.DELETE_SHARED_STORAGE_ENTRY,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def clear_shared_storage_entries(
        self,
        *,
        owner_origin: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = ClearSharedStorageEntriesParams(owner_origin=owner_origin)

        result = await self._client.send_raw(
            method=StorageCommand.CLEAR_SHARED_STORAGE_ENTRIES,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def reset_shared_storage_budget(
        self,
        *,
        owner_origin: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = ResetSharedStorageBudgetParams(owner_origin=owner_origin)

        result = await self._client.send_raw(
            method=StorageCommand.RESET_SHARED_STORAGE_BUDGET,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def set_shared_storage_tracking(
        self,
        *,
        enable: bool,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetSharedStorageTrackingParams(enable=enable)

        result = await self._client.send_raw(
            method=StorageCommand.SET_SHARED_STORAGE_TRACKING,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def set_storage_bucket_tracking(
        self,
        *,
        storage_key: str,
        enable: bool,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetStorageBucketTrackingParams(storage_key=storage_key, enable=enable)

        result = await self._client.send_raw(
            method=StorageCommand.SET_STORAGE_BUCKET_TRACKING,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def delete_storage_bucket(
        self,
        *,
        bucket: StorageBucket,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = DeleteStorageBucketParams(bucket=bucket)

        result = await self._client.send_raw(
            method=StorageCommand.DELETE_STORAGE_BUCKET,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def run_bounce_tracking_mitigations(
        self,
        session_id: str | None = None,
    ) -> RunBounceTrackingMitigationsResult:
        result = await self._client.send_raw(
            method=StorageCommand.RUN_BOUNCE_TRACKING_MITIGATIONS,
            params=None,
            session_id=session_id,
        )
        return RunBounceTrackingMitigationsResult.from_cdp(result)

    async def set_attribution_reporting_local_testing_mode(
        self,
        *,
        enabled: bool,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetAttributionReportingLocalTestingModeParams(enabled=enabled)

        result = await self._client.send_raw(
            method=StorageCommand.SET_ATTRIBUTION_REPORTING_LOCAL_TESTING_MODE,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def set_attribution_reporting_tracking(
        self,
        *,
        enable: bool,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetAttributionReportingTrackingParams(enable=enable)

        result = await self._client.send_raw(
            method=StorageCommand.SET_ATTRIBUTION_REPORTING_TRACKING,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def send_pending_attribution_reports(
        self,
        session_id: str | None = None,
    ) -> SendPendingAttributionReportsResult:
        result = await self._client.send_raw(
            method=StorageCommand.SEND_PENDING_ATTRIBUTION_REPORTS,
            params=None,
            session_id=session_id,
        )
        return SendPendingAttributionReportsResult.from_cdp(result)

    async def get_related_website_sets(
        self,
        session_id: str | None = None,
    ) -> GetRelatedWebsiteSetsResult:
        result = await self._client.send_raw(
            method=StorageCommand.GET_RELATED_WEBSITE_SETS,
            params=None,
            session_id=session_id,
        )
        return GetRelatedWebsiteSetsResult.from_cdp(result)

    async def get_affected_urls_for_third_party_cookie_metadata(
        self,
        *,
        first_party_url: str,
        third_party_urls: list[str],
        session_id: str | None = None,
    ) -> GetAffectedUrlsForThirdPartyCookieMetadataResult:
        params = GetAffectedUrlsForThirdPartyCookieMetadataParams(
            first_party_url=first_party_url, third_party_urls=third_party_urls
        )

        result = await self._client.send_raw(
            method=StorageCommand.GET_AFFECTED_URLS_FOR_THIRD_PARTY_COOKIE_METADATA,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetAffectedUrlsForThirdPartyCookieMetadataResult.from_cdp(result)

    async def set_protected_audience_k_anonymity(
        self,
        *,
        owner: str,
        name: str,
        hashes: list[str],
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetProtectedAudienceKAnonymityParams(
            owner=owner, name=name, hashes=hashes
        )

        result = await self._client.send_raw(
            method=StorageCommand.SET_PROTECTED_AUDIENCE_K_ANONYMITY,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result
