# This file is auto-generated by the CDP protocol generator.
# Do not edit this file manually as your changes will be overwritten.
# Generated from Chrome DevTools Protocol specifications.

from __future__ import annotations

from typing import TYPE_CHECKING, Any, Literal

if TYPE_CHECKING:
    from cdpify.client import CDPClient

from .commands import (
    DOMCommand,
    CollectClassNamesFromSubtreeParams,
    CollectClassNamesFromSubtreeResult,
    CopyToParams,
    CopyToResult,
    DescribeNodeParams,
    DescribeNodeResult,
    DiscardSearchResultsParams,
    EnableParams,
    FocusParams,
    ForceShowPopoverParams,
    ForceShowPopoverResult,
    GetAnchorElementParams,
    GetAnchorElementResult,
    GetAttributesParams,
    GetAttributesResult,
    GetBoxModelParams,
    GetBoxModelResult,
    GetContainerForNodeParams,
    GetContainerForNodeResult,
    GetContentQuadsParams,
    GetContentQuadsResult,
    GetDetachedDomNodesResult,
    GetDocumentParams,
    GetDocumentResult,
    GetElementByRelationParams,
    GetElementByRelationResult,
    GetFileInfoParams,
    GetFileInfoResult,
    GetFlattenedDocumentParams,
    GetFlattenedDocumentResult,
    GetFrameOwnerParams,
    GetFrameOwnerResult,
    GetNodeForLocationParams,
    GetNodeForLocationResult,
    GetNodeStackTracesParams,
    GetNodeStackTracesResult,
    GetNodesForSubtreeByStyleParams,
    GetNodesForSubtreeByStyleResult,
    GetOuterHTMLParams,
    GetOuterHTMLResult,
    GetQueryingDescendantsForContainerParams,
    GetQueryingDescendantsForContainerResult,
    GetRelayoutBoundaryParams,
    GetRelayoutBoundaryResult,
    GetSearchResultsParams,
    GetSearchResultsResult,
    GetTopLayerElementsResult,
    MoveToParams,
    MoveToResult,
    PerformSearchParams,
    PerformSearchResult,
    PushNodeByPathToFrontendParams,
    PushNodeByPathToFrontendResult,
    PushNodesByBackendIdsToFrontendParams,
    PushNodesByBackendIdsToFrontendResult,
    QuerySelectorAllParams,
    QuerySelectorAllResult,
    QuerySelectorParams,
    QuerySelectorResult,
    RemoveAttributeParams,
    RemoveNodeParams,
    RequestChildNodesParams,
    RequestNodeParams,
    RequestNodeResult,
    ResolveNodeParams,
    ResolveNodeResult,
    ScrollIntoViewIfNeededParams,
    SetAttributeValueParams,
    SetAttributesAsTextParams,
    SetFileInputFilesParams,
    SetInspectedNodeParams,
    SetNodeNameParams,
    SetNodeNameResult,
    SetNodeStackTracesEnabledParams,
    SetNodeValueParams,
    SetOuterHTMLParams,
)

from .types import (
    BackendNodeId,
    CSSComputedStyleProperty,
    LogicalAxes,
    NodeId,
    PhysicalAxes,
    Rect,
)


class DOMClient:
    def __init__(self, client: CDPClient) -> None:
        self._client = client

    async def collect_class_names_from_subtree(
        self,
        *,
        node_id: NodeId,
        session_id: str | None = None,
    ) -> CollectClassNamesFromSubtreeResult:
        params = CollectClassNamesFromSubtreeParams(node_id=node_id)

        result = await self._client.send_raw(
            method=DOMCommand.COLLECT_CLASS_NAMES_FROM_SUBTREE,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return CollectClassNamesFromSubtreeResult.from_cdp(result)

    async def copy_to(
        self,
        *,
        node_id: NodeId,
        target_node_id: NodeId,
        insert_before_node_id: NodeId | None = None,
        session_id: str | None = None,
    ) -> CopyToResult:
        params = CopyToParams(
            node_id=node_id,
            target_node_id=target_node_id,
            insert_before_node_id=insert_before_node_id,
        )

        result = await self._client.send_raw(
            method=DOMCommand.COPY_TO,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return CopyToResult.from_cdp(result)

    async def describe_node(
        self,
        *,
        node_id: NodeId | None = None,
        backend_node_id: BackendNodeId | None = None,
        object_id: Runtime.RemoteObjectId | None = None,
        depth: int | None = None,
        pierce: bool | None = None,
        session_id: str | None = None,
    ) -> DescribeNodeResult:
        params = DescribeNodeParams(
            node_id=node_id,
            backend_node_id=backend_node_id,
            object_id=object_id,
            depth=depth,
            pierce=pierce,
        )

        result = await self._client.send_raw(
            method=DOMCommand.DESCRIBE_NODE,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return DescribeNodeResult.from_cdp(result)

    async def scroll_into_view_if_needed(
        self,
        *,
        node_id: NodeId | None = None,
        backend_node_id: BackendNodeId | None = None,
        object_id: Runtime.RemoteObjectId | None = None,
        rect: Rect | None = None,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = ScrollIntoViewIfNeededParams(
            node_id=node_id,
            backend_node_id=backend_node_id,
            object_id=object_id,
            rect=rect,
        )

        result = await self._client.send_raw(
            method=DOMCommand.SCROLL_INTO_VIEW_IF_NEEDED,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def disable(
        self,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        result = await self._client.send_raw(
            method=DOMCommand.DISABLE,
            params=None,
            session_id=session_id,
        )
        return result

    async def discard_search_results(
        self,
        *,
        search_id: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = DiscardSearchResultsParams(search_id=search_id)

        result = await self._client.send_raw(
            method=DOMCommand.DISCARD_SEARCH_RESULTS,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def enable(
        self,
        *,
        include_whitespace: Literal["none", "all"] | None = None,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = EnableParams(include_whitespace=include_whitespace)

        result = await self._client.send_raw(
            method=DOMCommand.ENABLE,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def focus(
        self,
        *,
        node_id: NodeId | None = None,
        backend_node_id: BackendNodeId | None = None,
        object_id: Runtime.RemoteObjectId | None = None,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = FocusParams(
            node_id=node_id, backend_node_id=backend_node_id, object_id=object_id
        )

        result = await self._client.send_raw(
            method=DOMCommand.FOCUS,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def get_attributes(
        self,
        *,
        node_id: NodeId,
        session_id: str | None = None,
    ) -> GetAttributesResult:
        params = GetAttributesParams(node_id=node_id)

        result = await self._client.send_raw(
            method=DOMCommand.GET_ATTRIBUTES,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetAttributesResult.from_cdp(result)

    async def get_box_model(
        self,
        *,
        node_id: NodeId | None = None,
        backend_node_id: BackendNodeId | None = None,
        object_id: Runtime.RemoteObjectId | None = None,
        session_id: str | None = None,
    ) -> GetBoxModelResult:
        params = GetBoxModelParams(
            node_id=node_id, backend_node_id=backend_node_id, object_id=object_id
        )

        result = await self._client.send_raw(
            method=DOMCommand.GET_BOX_MODEL,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetBoxModelResult.from_cdp(result)

    async def get_content_quads(
        self,
        *,
        node_id: NodeId | None = None,
        backend_node_id: BackendNodeId | None = None,
        object_id: Runtime.RemoteObjectId | None = None,
        session_id: str | None = None,
    ) -> GetContentQuadsResult:
        params = GetContentQuadsParams(
            node_id=node_id, backend_node_id=backend_node_id, object_id=object_id
        )

        result = await self._client.send_raw(
            method=DOMCommand.GET_CONTENT_QUADS,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetContentQuadsResult.from_cdp(result)

    async def get_document(
        self,
        *,
        depth: int | None = None,
        pierce: bool | None = None,
        session_id: str | None = None,
    ) -> GetDocumentResult:
        params = GetDocumentParams(depth=depth, pierce=pierce)

        result = await self._client.send_raw(
            method=DOMCommand.GET_DOCUMENT,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetDocumentResult.from_cdp(result)

    async def get_flattened_document(
        self,
        *,
        depth: int | None = None,
        pierce: bool | None = None,
        session_id: str | None = None,
    ) -> GetFlattenedDocumentResult:
        params = GetFlattenedDocumentParams(depth=depth, pierce=pierce)

        result = await self._client.send_raw(
            method=DOMCommand.GET_FLATTENED_DOCUMENT,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetFlattenedDocumentResult.from_cdp(result)

    async def get_nodes_for_subtree_by_style(
        self,
        *,
        node_id: NodeId,
        computed_styles: list[CSSComputedStyleProperty],
        pierce: bool | None = None,
        session_id: str | None = None,
    ) -> GetNodesForSubtreeByStyleResult:
        params = GetNodesForSubtreeByStyleParams(
            node_id=node_id, computed_styles=computed_styles, pierce=pierce
        )

        result = await self._client.send_raw(
            method=DOMCommand.GET_NODES_FOR_SUBTREE_BY_STYLE,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetNodesForSubtreeByStyleResult.from_cdp(result)

    async def get_node_for_location(
        self,
        *,
        x: int,
        y: int,
        include_user_agent_shadow_d_o_m: bool | None = None,
        ignore_pointer_events_none: bool | None = None,
        session_id: str | None = None,
    ) -> GetNodeForLocationResult:
        params = GetNodeForLocationParams(
            x=x,
            y=y,
            include_user_agent_shadow_d_o_m=include_user_agent_shadow_d_o_m,
            ignore_pointer_events_none=ignore_pointer_events_none,
        )

        result = await self._client.send_raw(
            method=DOMCommand.GET_NODE_FOR_LOCATION,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetNodeForLocationResult.from_cdp(result)

    async def get_outer_h_t_m_l(
        self,
        *,
        node_id: NodeId | None = None,
        backend_node_id: BackendNodeId | None = None,
        object_id: Runtime.RemoteObjectId | None = None,
        include_shadow_d_o_m: bool | None = None,
        session_id: str | None = None,
    ) -> GetOuterHTMLResult:
        params = GetOuterHTMLParams(
            node_id=node_id,
            backend_node_id=backend_node_id,
            object_id=object_id,
            include_shadow_d_o_m=include_shadow_d_o_m,
        )

        result = await self._client.send_raw(
            method=DOMCommand.GET_OUTER_H_T_M_L,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetOuterHTMLResult.from_cdp(result)

    async def get_relayout_boundary(
        self,
        *,
        node_id: NodeId,
        session_id: str | None = None,
    ) -> GetRelayoutBoundaryResult:
        params = GetRelayoutBoundaryParams(node_id=node_id)

        result = await self._client.send_raw(
            method=DOMCommand.GET_RELAYOUT_BOUNDARY,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetRelayoutBoundaryResult.from_cdp(result)

    async def get_search_results(
        self,
        *,
        search_id: str,
        from_index: int,
        to_index: int,
        session_id: str | None = None,
    ) -> GetSearchResultsResult:
        params = GetSearchResultsParams(
            search_id=search_id, from_index=from_index, to_index=to_index
        )

        result = await self._client.send_raw(
            method=DOMCommand.GET_SEARCH_RESULTS,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetSearchResultsResult.from_cdp(result)

    async def hide_highlight(
        self,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        result = await self._client.send_raw(
            method=DOMCommand.HIDE_HIGHLIGHT,
            params=None,
            session_id=session_id,
        )
        return result

    async def highlight_node(
        self,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        result = await self._client.send_raw(
            method=DOMCommand.HIGHLIGHT_NODE,
            params=None,
            session_id=session_id,
        )
        return result

    async def highlight_rect(
        self,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        result = await self._client.send_raw(
            method=DOMCommand.HIGHLIGHT_RECT,
            params=None,
            session_id=session_id,
        )
        return result

    async def mark_undoable_state(
        self,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        result = await self._client.send_raw(
            method=DOMCommand.MARK_UNDOABLE_STATE,
            params=None,
            session_id=session_id,
        )
        return result

    async def move_to(
        self,
        *,
        node_id: NodeId,
        target_node_id: NodeId,
        insert_before_node_id: NodeId | None = None,
        session_id: str | None = None,
    ) -> MoveToResult:
        params = MoveToParams(
            node_id=node_id,
            target_node_id=target_node_id,
            insert_before_node_id=insert_before_node_id,
        )

        result = await self._client.send_raw(
            method=DOMCommand.MOVE_TO,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return MoveToResult.from_cdp(result)

    async def perform_search(
        self,
        *,
        query: str,
        include_user_agent_shadow_d_o_m: bool | None = None,
        session_id: str | None = None,
    ) -> PerformSearchResult:
        params = PerformSearchParams(
            query=query, include_user_agent_shadow_d_o_m=include_user_agent_shadow_d_o_m
        )

        result = await self._client.send_raw(
            method=DOMCommand.PERFORM_SEARCH,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return PerformSearchResult.from_cdp(result)

    async def push_node_by_path_to_frontend(
        self,
        *,
        path: str,
        session_id: str | None = None,
    ) -> PushNodeByPathToFrontendResult:
        params = PushNodeByPathToFrontendParams(path=path)

        result = await self._client.send_raw(
            method=DOMCommand.PUSH_NODE_BY_PATH_TO_FRONTEND,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return PushNodeByPathToFrontendResult.from_cdp(result)

    async def push_nodes_by_backend_ids_to_frontend(
        self,
        *,
        backend_node_ids: list[BackendNodeId],
        session_id: str | None = None,
    ) -> PushNodesByBackendIdsToFrontendResult:
        params = PushNodesByBackendIdsToFrontendParams(
            backend_node_ids=backend_node_ids
        )

        result = await self._client.send_raw(
            method=DOMCommand.PUSH_NODES_BY_BACKEND_IDS_TO_FRONTEND,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return PushNodesByBackendIdsToFrontendResult.from_cdp(result)

    async def query_selector(
        self,
        *,
        node_id: NodeId,
        selector: str,
        session_id: str | None = None,
    ) -> QuerySelectorResult:
        params = QuerySelectorParams(node_id=node_id, selector=selector)

        result = await self._client.send_raw(
            method=DOMCommand.QUERY_SELECTOR,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return QuerySelectorResult.from_cdp(result)

    async def query_selector_all(
        self,
        *,
        node_id: NodeId,
        selector: str,
        session_id: str | None = None,
    ) -> QuerySelectorAllResult:
        params = QuerySelectorAllParams(node_id=node_id, selector=selector)

        result = await self._client.send_raw(
            method=DOMCommand.QUERY_SELECTOR_ALL,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return QuerySelectorAllResult.from_cdp(result)

    async def get_top_layer_elements(
        self,
        session_id: str | None = None,
    ) -> GetTopLayerElementsResult:
        result = await self._client.send_raw(
            method=DOMCommand.GET_TOP_LAYER_ELEMENTS,
            params=None,
            session_id=session_id,
        )
        return GetTopLayerElementsResult.from_cdp(result)

    async def get_element_by_relation(
        self,
        *,
        node_id: NodeId,
        relation: Literal["PopoverTarget", "InterestTarget", "CommandFor"],
        session_id: str | None = None,
    ) -> GetElementByRelationResult:
        params = GetElementByRelationParams(node_id=node_id, relation=relation)

        result = await self._client.send_raw(
            method=DOMCommand.GET_ELEMENT_BY_RELATION,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetElementByRelationResult.from_cdp(result)

    async def redo(
        self,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        result = await self._client.send_raw(
            method=DOMCommand.REDO,
            params=None,
            session_id=session_id,
        )
        return result

    async def remove_attribute(
        self,
        *,
        node_id: NodeId,
        name: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = RemoveAttributeParams(node_id=node_id, name=name)

        result = await self._client.send_raw(
            method=DOMCommand.REMOVE_ATTRIBUTE,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def remove_node(
        self,
        *,
        node_id: NodeId,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = RemoveNodeParams(node_id=node_id)

        result = await self._client.send_raw(
            method=DOMCommand.REMOVE_NODE,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def request_child_nodes(
        self,
        *,
        node_id: NodeId,
        depth: int | None = None,
        pierce: bool | None = None,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = RequestChildNodesParams(node_id=node_id, depth=depth, pierce=pierce)

        result = await self._client.send_raw(
            method=DOMCommand.REQUEST_CHILD_NODES,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def request_node(
        self,
        *,
        object_id: Runtime.RemoteObjectId,
        session_id: str | None = None,
    ) -> RequestNodeResult:
        params = RequestNodeParams(object_id=object_id)

        result = await self._client.send_raw(
            method=DOMCommand.REQUEST_NODE,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return RequestNodeResult.from_cdp(result)

    async def resolve_node(
        self,
        *,
        node_id: NodeId | None = None,
        backend_node_id: DOM.BackendNodeId | None = None,
        object_group: str | None = None,
        execution_context_id: Runtime.ExecutionContextId | None = None,
        session_id: str | None = None,
    ) -> ResolveNodeResult:
        params = ResolveNodeParams(
            node_id=node_id,
            backend_node_id=backend_node_id,
            object_group=object_group,
            execution_context_id=execution_context_id,
        )

        result = await self._client.send_raw(
            method=DOMCommand.RESOLVE_NODE,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return ResolveNodeResult.from_cdp(result)

    async def set_attribute_value(
        self,
        *,
        node_id: NodeId,
        name: str,
        value: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetAttributeValueParams(node_id=node_id, name=name, value=value)

        result = await self._client.send_raw(
            method=DOMCommand.SET_ATTRIBUTE_VALUE,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def set_attributes_as_text(
        self,
        *,
        node_id: NodeId,
        text: str,
        name: str | None = None,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetAttributesAsTextParams(node_id=node_id, text=text, name=name)

        result = await self._client.send_raw(
            method=DOMCommand.SET_ATTRIBUTES_AS_TEXT,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def set_file_input_files(
        self,
        *,
        files: list[str],
        node_id: NodeId | None = None,
        backend_node_id: BackendNodeId | None = None,
        object_id: Runtime.RemoteObjectId | None = None,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetFileInputFilesParams(
            files=files,
            node_id=node_id,
            backend_node_id=backend_node_id,
            object_id=object_id,
        )

        result = await self._client.send_raw(
            method=DOMCommand.SET_FILE_INPUT_FILES,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def set_node_stack_traces_enabled(
        self,
        *,
        enable: bool,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetNodeStackTracesEnabledParams(enable=enable)

        result = await self._client.send_raw(
            method=DOMCommand.SET_NODE_STACK_TRACES_ENABLED,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def get_node_stack_traces(
        self,
        *,
        node_id: NodeId,
        session_id: str | None = None,
    ) -> GetNodeStackTracesResult:
        params = GetNodeStackTracesParams(node_id=node_id)

        result = await self._client.send_raw(
            method=DOMCommand.GET_NODE_STACK_TRACES,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetNodeStackTracesResult.from_cdp(result)

    async def get_file_info(
        self,
        *,
        object_id: Runtime.RemoteObjectId,
        session_id: str | None = None,
    ) -> GetFileInfoResult:
        params = GetFileInfoParams(object_id=object_id)

        result = await self._client.send_raw(
            method=DOMCommand.GET_FILE_INFO,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetFileInfoResult.from_cdp(result)

    async def get_detached_dom_nodes(
        self,
        session_id: str | None = None,
    ) -> GetDetachedDomNodesResult:
        result = await self._client.send_raw(
            method=DOMCommand.GET_DETACHED_DOM_NODES,
            params=None,
            session_id=session_id,
        )
        return GetDetachedDomNodesResult.from_cdp(result)

    async def set_inspected_node(
        self,
        *,
        node_id: NodeId,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetInspectedNodeParams(node_id=node_id)

        result = await self._client.send_raw(
            method=DOMCommand.SET_INSPECTED_NODE,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def set_node_name(
        self,
        *,
        node_id: NodeId,
        name: str,
        session_id: str | None = None,
    ) -> SetNodeNameResult:
        params = SetNodeNameParams(node_id=node_id, name=name)

        result = await self._client.send_raw(
            method=DOMCommand.SET_NODE_NAME,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return SetNodeNameResult.from_cdp(result)

    async def set_node_value(
        self,
        *,
        node_id: NodeId,
        value: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetNodeValueParams(node_id=node_id, value=value)

        result = await self._client.send_raw(
            method=DOMCommand.SET_NODE_VALUE,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def set_outer_h_t_m_l(
        self,
        *,
        node_id: NodeId,
        outer_h_t_m_l: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetOuterHTMLParams(node_id=node_id, outer_h_t_m_l=outer_h_t_m_l)

        result = await self._client.send_raw(
            method=DOMCommand.SET_OUTER_H_T_M_L,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def undo(
        self,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        result = await self._client.send_raw(
            method=DOMCommand.UNDO,
            params=None,
            session_id=session_id,
        )
        return result

    async def get_frame_owner(
        self,
        *,
        frame_id: Page.FrameId,
        session_id: str | None = None,
    ) -> GetFrameOwnerResult:
        params = GetFrameOwnerParams(frame_id=frame_id)

        result = await self._client.send_raw(
            method=DOMCommand.GET_FRAME_OWNER,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetFrameOwnerResult.from_cdp(result)

    async def get_container_for_node(
        self,
        *,
        node_id: NodeId,
        container_name: str | None = None,
        physical_axes: PhysicalAxes | None = None,
        logical_axes: LogicalAxes | None = None,
        queries_scroll_state: bool | None = None,
        queries_anchored: bool | None = None,
        session_id: str | None = None,
    ) -> GetContainerForNodeResult:
        params = GetContainerForNodeParams(
            node_id=node_id,
            container_name=container_name,
            physical_axes=physical_axes,
            logical_axes=logical_axes,
            queries_scroll_state=queries_scroll_state,
            queries_anchored=queries_anchored,
        )

        result = await self._client.send_raw(
            method=DOMCommand.GET_CONTAINER_FOR_NODE,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetContainerForNodeResult.from_cdp(result)

    async def get_querying_descendants_for_container(
        self,
        *,
        node_id: NodeId,
        session_id: str | None = None,
    ) -> GetQueryingDescendantsForContainerResult:
        params = GetQueryingDescendantsForContainerParams(node_id=node_id)

        result = await self._client.send_raw(
            method=DOMCommand.GET_QUERYING_DESCENDANTS_FOR_CONTAINER,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetQueryingDescendantsForContainerResult.from_cdp(result)

    async def get_anchor_element(
        self,
        *,
        node_id: NodeId,
        anchor_specifier: str | None = None,
        session_id: str | None = None,
    ) -> GetAnchorElementResult:
        params = GetAnchorElementParams(
            node_id=node_id, anchor_specifier=anchor_specifier
        )

        result = await self._client.send_raw(
            method=DOMCommand.GET_ANCHOR_ELEMENT,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetAnchorElementResult.from_cdp(result)

    async def force_show_popover(
        self,
        *,
        node_id: NodeId,
        enable: bool,
        session_id: str | None = None,
    ) -> ForceShowPopoverResult:
        params = ForceShowPopoverParams(node_id=node_id, enable=enable)

        result = await self._client.send_raw(
            method=DOMCommand.FORCE_SHOW_POPOVER,
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return ForceShowPopoverResult.from_cdp(result)
