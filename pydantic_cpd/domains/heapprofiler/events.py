# This file is auto-generated by the CDP protocol generator.
# Do not edit this file manually as your changes will be overwritten.
# Generated from Chrome DevTools Protocol specifications.

from enum import StrEnum

from pydantic_cpd.domains.base import CDPModel

from .types import *


class HeapProfilerEvent(StrEnum):
    ADD_HEAP_SNAPSHOT_CHUNK = "HeapProfiler.addHeapSnapshotChunk"
    HEAP_STATS_UPDATE = "HeapProfiler.heapStatsUpdate"
    LAST_SEEN_OBJECT_ID = "HeapProfiler.lastSeenObjectId"
    REPORT_HEAP_SNAPSHOT_PROGRESS = "HeapProfiler.reportHeapSnapshotProgress"
    RESET_PROFILES = "HeapProfiler.resetProfiles"


class AddHeapSnapshotChunkEvent(CDPModel):
    chunk: str


class HeapStatsUpdateEvent(CDPModel):
    """
    If heap objects tracking has been started then backend may send update for one or
    more fragments
    """

    stats_update: list[int]


class LastSeenObjectIdEvent(CDPModel):
    """
    If heap objects tracking has been started then backend regularly sends a current
    value for last seen object id and corresponding timestamp. If the were changes in
    the heap since last event then one or more heapStatsUpdate events will be sent
    before a new lastSeenObjectId event.
    """

    last_seen_object_id: int
    timestamp: float


class ReportHeapSnapshotProgressEvent(CDPModel):
    done: int
    total: int
    finished: bool | None = None


class ResetProfilesEvent(CDPModel):
    pass
