# This file is auto-generated by the CDP protocol generator.
# Do not edit this file manually as your changes will be overwritten.
# Generated from Chrome DevTools Protocol specifications.

from __future__ import annotations

from typing import TYPE_CHECKING, Any

if TYPE_CHECKING:
    from pydantic_cpd.client import CDPClient

from pydantic_cpd.cdp import network

from .commands import (
    ClearCookiesParams,
    ClearDataForOriginParams,
    ClearDataForStorageKeyParams,
    ClearSharedStorageEntriesParams,
    ClearTrustTokensParams,
    ClearTrustTokensResult,
    DeleteSharedStorageEntryParams,
    DeleteStorageBucketParams,
    GetAffectedUrlsForThirdPartyCookieMetadataParams,
    GetAffectedUrlsForThirdPartyCookieMetadataResult,
    GetCookiesParams,
    GetCookiesResult,
    GetInterestGroupDetailsParams,
    GetInterestGroupDetailsResult,
    GetRelatedWebsiteSetsResult,
    GetSharedStorageEntriesParams,
    GetSharedStorageEntriesResult,
    GetSharedStorageMetadataParams,
    GetSharedStorageMetadataResult,
    GetStorageKeyForFrameParams,
    GetStorageKeyForFrameResult,
    GetStorageKeyParams,
    GetStorageKeyResult,
    GetTrustTokensResult,
    GetUsageAndQuotaParams,
    GetUsageAndQuotaResult,
    OverrideQuotaForOriginParams,
    ResetSharedStorageBudgetParams,
    RunBounceTrackingMitigationsResult,
    SendPendingAttributionReportsResult,
    SetAttributionReportingLocalTestingModeParams,
    SetAttributionReportingTrackingParams,
    SetCookiesParams,
    SetInterestGroupAuctionTrackingParams,
    SetInterestGroupTrackingParams,
    SetProtectedAudienceKAnonymityParams,
    SetSharedStorageEntryParams,
    SetSharedStorageTrackingParams,
    SetStorageBucketTrackingParams,
    TrackCacheStorageForOriginParams,
    TrackCacheStorageForStorageKeyParams,
    TrackIndexedDBForOriginParams,
    TrackIndexedDBForStorageKeyParams,
    UntrackCacheStorageForOriginParams,
    UntrackCacheStorageForStorageKeyParams,
    UntrackIndexedDBForOriginParams,
    UntrackIndexedDBForStorageKeyParams,
)
from .types import (
    StorageBucket,
)


class StorageClient:
    def __init__(self, client: CDPClient) -> None:
        self._client = client

    async def get_storage_key_for_frame(
        self,
        *,
        frame_id: Page.FrameId,
        session_id: str | None = None,
    ) -> GetStorageKeyForFrameResult:
        params = GetStorageKeyForFrameParams(frameId=frame_id)

        result = await self._client.send_raw(
            method="Storage.getStorageKeyForFrame",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetStorageKeyForFrameResult.model_validate(result)

    async def get_storage_key(
        self,
        *,
        frame_id: Page.FrameId | None = None,
        session_id: str | None = None,
    ) -> GetStorageKeyResult:
        params = GetStorageKeyParams(frameId=frame_id)

        result = await self._client.send_raw(
            method="Storage.getStorageKey",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetStorageKeyResult.model_validate(result)

    async def clear_data_for_origin(
        self,
        *,
        origin: str,
        storage_types: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = ClearDataForOriginParams(origin=origin, storageTypes=storage_types)

        result = await self._client.send_raw(
            method="Storage.clearDataForOrigin",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def clear_data_for_storage_key(
        self,
        *,
        storage_key: str,
        storage_types: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = ClearDataForStorageKeyParams(
            storageKey=storage_key, storageTypes=storage_types
        )

        result = await self._client.send_raw(
            method="Storage.clearDataForStorageKey",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def get_cookies(
        self,
        *,
        browser_context_id: Browser.BrowserContextID | None = None,
        session_id: str | None = None,
    ) -> GetCookiesResult:
        params = GetCookiesParams(browserContextId=browser_context_id)

        result = await self._client.send_raw(
            method="Storage.getCookies",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetCookiesResult.model_validate(result)

    async def set_cookies(
        self,
        *,
        cookies: list[network.CookieParam],
        browser_context_id: Browser.BrowserContextID | None = None,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetCookiesParams(cookies=cookies, browserContextId=browser_context_id)

        result = await self._client.send_raw(
            method="Storage.setCookies",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def clear_cookies(
        self,
        *,
        browser_context_id: Browser.BrowserContextID | None = None,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = ClearCookiesParams(browserContextId=browser_context_id)

        result = await self._client.send_raw(
            method="Storage.clearCookies",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def get_usage_and_quota(
        self,
        *,
        origin: str,
        session_id: str | None = None,
    ) -> GetUsageAndQuotaResult:
        params = GetUsageAndQuotaParams(origin=origin)

        result = await self._client.send_raw(
            method="Storage.getUsageAndQuota",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetUsageAndQuotaResult.model_validate(result)

    async def override_quota_for_origin(
        self,
        *,
        origin: str,
        quota_size: float | None = None,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = OverrideQuotaForOriginParams(origin=origin, quotaSize=quota_size)

        result = await self._client.send_raw(
            method="Storage.overrideQuotaForOrigin",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def track_cache_storage_for_origin(
        self,
        *,
        origin: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = TrackCacheStorageForOriginParams(origin=origin)

        result = await self._client.send_raw(
            method="Storage.trackCacheStorageForOrigin",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def track_cache_storage_for_storage_key(
        self,
        *,
        storage_key: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = TrackCacheStorageForStorageKeyParams(storageKey=storage_key)

        result = await self._client.send_raw(
            method="Storage.trackCacheStorageForStorageKey",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def track_indexed_d_b_for_origin(
        self,
        *,
        origin: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = TrackIndexedDBForOriginParams(origin=origin)

        result = await self._client.send_raw(
            method="Storage.trackIndexedDBForOrigin",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def track_indexed_d_b_for_storage_key(
        self,
        *,
        storage_key: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = TrackIndexedDBForStorageKeyParams(storageKey=storage_key)

        result = await self._client.send_raw(
            method="Storage.trackIndexedDBForStorageKey",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def untrack_cache_storage_for_origin(
        self,
        *,
        origin: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = UntrackCacheStorageForOriginParams(origin=origin)

        result = await self._client.send_raw(
            method="Storage.untrackCacheStorageForOrigin",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def untrack_cache_storage_for_storage_key(
        self,
        *,
        storage_key: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = UntrackCacheStorageForStorageKeyParams(storageKey=storage_key)

        result = await self._client.send_raw(
            method="Storage.untrackCacheStorageForStorageKey",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def untrack_indexed_d_b_for_origin(
        self,
        *,
        origin: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = UntrackIndexedDBForOriginParams(origin=origin)

        result = await self._client.send_raw(
            method="Storage.untrackIndexedDBForOrigin",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def untrack_indexed_d_b_for_storage_key(
        self,
        *,
        storage_key: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = UntrackIndexedDBForStorageKeyParams(storageKey=storage_key)

        result = await self._client.send_raw(
            method="Storage.untrackIndexedDBForStorageKey",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def get_trust_tokens(
        self,
        session_id: str | None = None,
    ) -> GetTrustTokensResult:
        result = await self._client.send_raw(
            method="Storage.getTrustTokens",
            params=None,
            session_id=session_id,
        )
        return GetTrustTokensResult.model_validate(result)

    async def clear_trust_tokens(
        self,
        *,
        issuer_origin: str,
        session_id: str | None = None,
    ) -> ClearTrustTokensResult:
        params = ClearTrustTokensParams(issuerOrigin=issuer_origin)

        result = await self._client.send_raw(
            method="Storage.clearTrustTokens",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return ClearTrustTokensResult.model_validate(result)

    async def get_interest_group_details(
        self,
        *,
        owner_origin: str,
        name: str,
        session_id: str | None = None,
    ) -> GetInterestGroupDetailsResult:
        params = GetInterestGroupDetailsParams(ownerOrigin=owner_origin, name=name)

        result = await self._client.send_raw(
            method="Storage.getInterestGroupDetails",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetInterestGroupDetailsResult.model_validate(result)

    async def set_interest_group_tracking(
        self,
        *,
        enable: bool,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetInterestGroupTrackingParams(enable=enable)

        result = await self._client.send_raw(
            method="Storage.setInterestGroupTracking",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def set_interest_group_auction_tracking(
        self,
        *,
        enable: bool,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetInterestGroupAuctionTrackingParams(enable=enable)

        result = await self._client.send_raw(
            method="Storage.setInterestGroupAuctionTracking",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def get_shared_storage_metadata(
        self,
        *,
        owner_origin: str,
        session_id: str | None = None,
    ) -> GetSharedStorageMetadataResult:
        params = GetSharedStorageMetadataParams(ownerOrigin=owner_origin)

        result = await self._client.send_raw(
            method="Storage.getSharedStorageMetadata",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetSharedStorageMetadataResult.model_validate(result)

    async def get_shared_storage_entries(
        self,
        *,
        owner_origin: str,
        session_id: str | None = None,
    ) -> GetSharedStorageEntriesResult:
        params = GetSharedStorageEntriesParams(ownerOrigin=owner_origin)

        result = await self._client.send_raw(
            method="Storage.getSharedStorageEntries",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetSharedStorageEntriesResult.model_validate(result)

    async def set_shared_storage_entry(
        self,
        *,
        owner_origin: str,
        key: str,
        value: str,
        ignore_if_present: bool | None = None,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetSharedStorageEntryParams(
            ownerOrigin=owner_origin,
            key=key,
            value=value,
            ignoreIfPresent=ignore_if_present,
        )

        result = await self._client.send_raw(
            method="Storage.setSharedStorageEntry",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def delete_shared_storage_entry(
        self,
        *,
        owner_origin: str,
        key: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = DeleteSharedStorageEntryParams(ownerOrigin=owner_origin, key=key)

        result = await self._client.send_raw(
            method="Storage.deleteSharedStorageEntry",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def clear_shared_storage_entries(
        self,
        *,
        owner_origin: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = ClearSharedStorageEntriesParams(ownerOrigin=owner_origin)

        result = await self._client.send_raw(
            method="Storage.clearSharedStorageEntries",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def reset_shared_storage_budget(
        self,
        *,
        owner_origin: str,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = ResetSharedStorageBudgetParams(ownerOrigin=owner_origin)

        result = await self._client.send_raw(
            method="Storage.resetSharedStorageBudget",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def set_shared_storage_tracking(
        self,
        *,
        enable: bool,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetSharedStorageTrackingParams(enable=enable)

        result = await self._client.send_raw(
            method="Storage.setSharedStorageTracking",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def set_storage_bucket_tracking(
        self,
        *,
        storage_key: str,
        enable: bool,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetStorageBucketTrackingParams(storageKey=storage_key, enable=enable)

        result = await self._client.send_raw(
            method="Storage.setStorageBucketTracking",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def delete_storage_bucket(
        self,
        *,
        bucket: StorageBucket,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = DeleteStorageBucketParams(bucket=bucket)

        result = await self._client.send_raw(
            method="Storage.deleteStorageBucket",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def run_bounce_tracking_mitigations(
        self,
        session_id: str | None = None,
    ) -> RunBounceTrackingMitigationsResult:
        result = await self._client.send_raw(
            method="Storage.runBounceTrackingMitigations",
            params=None,
            session_id=session_id,
        )
        return RunBounceTrackingMitigationsResult.model_validate(result)

    async def set_attribution_reporting_local_testing_mode(
        self,
        *,
        enabled: bool,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetAttributionReportingLocalTestingModeParams(enabled=enabled)

        result = await self._client.send_raw(
            method="Storage.setAttributionReportingLocalTestingMode",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def set_attribution_reporting_tracking(
        self,
        *,
        enable: bool,
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetAttributionReportingTrackingParams(enable=enable)

        result = await self._client.send_raw(
            method="Storage.setAttributionReportingTracking",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result

    async def send_pending_attribution_reports(
        self,
        session_id: str | None = None,
    ) -> SendPendingAttributionReportsResult:
        result = await self._client.send_raw(
            method="Storage.sendPendingAttributionReports",
            params=None,
            session_id=session_id,
        )
        return SendPendingAttributionReportsResult.model_validate(result)

    async def get_related_website_sets(
        self,
        session_id: str | None = None,
    ) -> GetRelatedWebsiteSetsResult:
        result = await self._client.send_raw(
            method="Storage.getRelatedWebsiteSets",
            params=None,
            session_id=session_id,
        )
        return GetRelatedWebsiteSetsResult.model_validate(result)

    async def get_affected_urls_for_third_party_cookie_metadata(
        self,
        *,
        first_party_url: str,
        third_party_urls: list[str],
        session_id: str | None = None,
    ) -> GetAffectedUrlsForThirdPartyCookieMetadataResult:
        params = GetAffectedUrlsForThirdPartyCookieMetadataParams(
            firstPartyUrl=first_party_url, thirdPartyUrls=third_party_urls
        )

        result = await self._client.send_raw(
            method="Storage.getAffectedUrlsForThirdPartyCookieMetadata",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return GetAffectedUrlsForThirdPartyCookieMetadataResult.model_validate(result)

    async def set_protected_audience_k_anonymity(
        self,
        *,
        owner: str,
        name: str,
        hashes: list[str],
        session_id: str | None = None,
    ) -> dict[str, Any]:
        params = SetProtectedAudienceKAnonymityParams(
            owner=owner, name=name, hashes=hashes
        )

        result = await self._client.send_raw(
            method="Storage.setProtectedAudienceKAnonymity",
            params=params.to_cdp_params(),
            session_id=session_id,
        )
        return result
