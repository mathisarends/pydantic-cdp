# This file is auto-generated by the CDP protocol generator.
# Do not edit this file manually as your changes will be overwritten.
# Generated from Chrome DevTools Protocol specifications.

from enum import StrEnum
from typing import TYPE_CHECKING, Any

from pydantic_cpd.domains.base import CDPModel

from .types import *

if TYPE_CHECKING:
    from pydantic_cpd.cdp import io


class TracingEvent(StrEnum):
    BUFFER_USAGE = "Tracing.bufferUsage"
    DATA_COLLECTED = "Tracing.dataCollected"
    TRACING_COMPLETE = "Tracing.tracingComplete"


class BufferUsageEvent(CDPModel):
    percent_full: float | None = None
    event_count: float | None = None
    value: float | None = None


class DataCollectedEvent(CDPModel):
    """
    Contains a bucket of collected trace events. When tracing is stopped collected
    events will be sent as a sequence of dataCollected events followed by
    tracingComplete event.
    """

    value: list[dict[str, Any]]


class TracingCompleteEvent(CDPModel):
    """
    Signals that tracing is stopped and there is no trace buffers pending flush, all
    data were delivered via dataCollected events.
    """

    data_loss_occurred: bool
    stream: io.StreamHandle | None = None
    trace_format: StreamFormat | None = None
    stream_compression: StreamCompression | None = None
