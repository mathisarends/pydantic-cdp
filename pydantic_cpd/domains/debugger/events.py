# This file is auto-generated by the CDP protocol generator.
# Do not edit this file manually as your changes will be overwritten.
# Generated from Chrome DevTools Protocol specifications.

from enum import StrEnum
from typing import TYPE_CHECKING, Any, Literal

from pydantic_cpd.domains.base import CDPModel

from .types import *

if TYPE_CHECKING:
    from pydantic_cpd.cdp import debugger, runtime


class DebuggerEvent(StrEnum):
    BREAKPOINT_RESOLVED = "Debugger.breakpointResolved"
    PAUSED = "Debugger.paused"
    RESUMED = "Debugger.resumed"
    SCRIPT_FAILED_TO_PARSE = "Debugger.scriptFailedToParse"
    SCRIPT_PARSED = "Debugger.scriptParsed"


class BreakpointResolvedEvent(CDPModel):
    """
    Fired when breakpoint is resolved to an actual script and location. Deprecated in
    favor of `resolvedBreakpoints` in the `scriptParsed` event.
    """

    breakpoint_id: BreakpointId
    location: Location


class PausedEvent(CDPModel):
    """
    Fired when the virtual machine stopped on breakpoint or exception or any other stop
    criteria.
    """

    call_frames: list[CallFrame]
    reason: Literal[
        "ambiguous",
        "assert",
        "CSPViolation",
        "debugCommand",
        "DOM",
        "EventListener",
        "exception",
        "instrumentation",
        "OOM",
        "other",
        "promiseRejection",
        "XHR",
        "step",
    ]
    data: dict[str, Any] | None = None
    hit_breakpoints: list[str] | None = None
    async_stack_trace: runtime.StackTrace | None = None
    async_stack_trace_id: runtime.StackTraceId | None = None
    async_call_stack_trace_id: runtime.StackTraceId | None = None


class ResumedEvent(CDPModel):
    """
    Fired when the virtual machine resumed execution.
    """

    pass


class ScriptFailedToParseEvent(CDPModel):
    """
    Fired when virtual machine fails to parse the script.
    """

    script_id: runtime.ScriptId
    url: str
    start_line: int
    start_column: int
    end_line: int
    end_column: int
    execution_context_id: runtime.ExecutionContextId
    hash: str
    build_id: str
    execution_context_aux_data: dict[str, Any] | None = None
    source_map_u_r_l: str | None = None
    has_source_u_r_l: bool | None = None
    is_module: bool | None = None
    length: int | None = None
    stack_trace: runtime.StackTrace | None = None
    code_offset: int | None = None
    script_language: debugger.ScriptLanguage | None = None
    embedder_name: str | None = None


class ScriptParsedEvent(CDPModel):
    """
    Fired when virtual machine parses script. This event is also fired for all known
    and uncollected scripts upon enabling debugger.
    """

    script_id: runtime.ScriptId
    url: str
    start_line: int
    start_column: int
    end_line: int
    end_column: int
    execution_context_id: runtime.ExecutionContextId
    hash: str
    build_id: str
    execution_context_aux_data: dict[str, Any] | None = None
    is_live_edit: bool | None = None
    source_map_u_r_l: str | None = None
    has_source_u_r_l: bool | None = None
    is_module: bool | None = None
    length: int | None = None
    stack_trace: runtime.StackTrace | None = None
    code_offset: int | None = None
    script_language: debugger.ScriptLanguage | None = None
    debug_symbols: list[debugger.DebugSymbols] | None = None
    embedder_name: str | None = None
    resolved_breakpoints: list[ResolvedBreakpoint] | None = None
